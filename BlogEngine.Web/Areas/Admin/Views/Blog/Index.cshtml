@model IEnumerable<BlogEngine.Core.ViewModels.BlogListViewModel>

@{
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    ViewBag.Title = "Index";
}

<h3 style="display: inline-block"><span class="glyphicon glyphicon-book"></span> Blogs</h3>
<h5 style="color: grey; display: inline-block">List of all the blogs</h5>

<div class="well well-sm">
    <button class="btn btn-success" onclick="location.href='@Url.Action("Create", "Blog")'">
        <span class="glyphicon glyphicon-pencil"></span>Create a new Blog
    </button>
</div>
<div class="col-md-12">
    <div class="row well well-sm" style="padding-top:5px;padding-bottom:5px;margin-bottom:5px">
        <div class="col-md-3"><b>@Html.DisplayNameFor(model => model.Tags)</b></div>
        <div class="col-md-1"><b>By</b></div>
        <div class="col-md-1"><b>Created</b></div>
        <div class="col-md-1"><b>@Html.DisplayNameFor(model => model.Category)</b></div>
        <div class="col-md-2"><b>@Html.DisplayNameFor(model => model.Title)</b></div>
        <div class="col-md-4"></div>
    </div>
    @foreach (var item in Model)
    {
        <div class="row" style="padding-bottom:5px;">
            <div class="col-md-3">
                @foreach (var tag in item.Tags)
                {
                    <button class="btn btn-xs btn-primary">
                        <span style="font-size: 13px;" class="glyphicon glyphicon-tag">@Html.DisplayFor(modelItem => tag.Name)</span>
                    </button>
                }
            </div>
            <div class="col-md-1">@Html.DisplayFor(modelItem => item.CreatedBy)</div>
            <div class="col-md-1">@Html.DisplayFor(modelItem => item.CreatedDate)</div>
            <div class="col-md-1">@Html.DisplayFor(modelItem => item.Category)</div>
            <div class="col-md-2">@Html.DisplayFor(modelItem => item.Title)</div>
            <div class="col-md-4">

                <button class="btn btn-sm btn-danger pull-right" id="modalDelete">
                    <span class="glyphicon glyphicon-trash"></span>&nbsp;Delete
                </button>
                @*<button  class="btn btn-sm btn-danger pull-right" onclick="location.href='@Url.Action("Delete", "Blog", new { id = item.BlogId })'">
                    <span class="glyphicon glyphicon-trash"></span>&nbsp;Delete
                </button>*@
                <button style="margin-right:5px" class="btn btn-sm btn-primary pull-right" onclick="location.href='@Url.Action("Edit", "Blog", new { id = item.BlogId })'">
                    <span class="glyphicon glyphicon-edit"></span>&nbsp;Edit
                </button>
                <button style="margin-right:5px;color:grey;" class="btn btn-sm btn-default pull-right" onclick="location.href='@Url.Action("details", "blog", new { id = item.BlogId })'">
                    <span class="glyphicon glyphicon-folder-open"></span>&nbsp;&nbsp;Details
                </button>
            </div>
        </div>
    }
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title">Delete</h4>
        </div>
        <div class="modal-body">
          Are you sure you want to delete this blog entry?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-sm btn-danger">
              <span class="glyphicon glyphicon-trash"></span>&nbsp;Delete
          </button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

<script type="text/javascript">
    $(function () {
        $("#modalDelete").click(function () {
            $('#myModal').modal('show');
        });
    });
</script>
